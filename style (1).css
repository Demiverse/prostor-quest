/* style.css — стили для VK Mini App */

/* Сброс */
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body,#app{height:100%}
body{font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial; background:linear-gradient(135deg,#07102a 0%,#10234a 100%); color:#fff; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}

.app{width:100%;height:100%;position:relative;display:flex;flex-direction:column;align-items:stretch}

/* Экран */
.screen{display:none;position:absolute;inset:0;overflow:hidden;flex-direction:column}
.screen.active{display:flex}

/* Загрузка */
#screen-loading{display:flex;align-items:center;justify-content:center;padding:2rem}
.loading-content{text-align:center;padding:1.5rem;border-radius:14px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));backdrop-filter:blur(8px)}
.logo{font-weight:800;font-size:2.2rem;background:linear-gradient(90deg,#ff6b6b,#4ecdc4,#45b7d1);-webkit-background-clip:text;color:transparent;margin-bottom:1rem}
.loading-bar{width:280px;max-width:90%;height:8px;background:rgba(255,255,255,0.06);border-radius:6px;overflow:hidden;margin:1rem auto}
.loading-progress{height:100%;width:0%;background:linear-gradient(90deg,#4ecdc4,#45b7d1);transition:width .25s ease;border-radius:6px}
.loading-text{margin-top:0.6rem;opacity:0.9}
.platform-badge{margin-top:0.8rem;padding:0.45rem 0.9rem;border-radius:999px;background:rgba(255,255,255,0.04);display:inline-block;font-size:0.9rem}

/* Header */
.header{display:flex;align-items:center;justify-content:space-between;padding:0.75rem 1rem;background:rgba(0,0,0,0.25);border-bottom:1px solid rgba(255,255,255,0.04);min-height:56px}
.header-title{font-weight:700;font-size:1.05rem;text-align:center;flex:1}
.menu-btn,.back-btn,.sound-btn{width:44px;height:44px;border-radius:10px;background:rgba(255,255,255,0.03);display:flex;align-items:center;justify-content:center;font-size:1.1rem}

/* Контент */
.game-content{flex:1;padding:1rem;overflow:auto;-webkit-overflow-scrolling:touch}
.character-container{text-align:center;margin:1rem 0 0.5rem}
.character-image{width:120px;height:120px;margin:0 auto;border-radius:18px;display:flex;align-items:center;justify-content:center;font-size:3rem;background:linear-gradient(135deg,#4ecdc4,#45b7d1);box-shadow:0 10px 30px rgba(72,196,173,0.12)}
.dialog-container{background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.02));padding:1rem;border-radius:12px;margin:1rem 0;backdrop-filter:blur(6px);min-height:84px}
.character-name{color:#4ecdc4;font-weight:700;margin-bottom:6px}
.dialog-text{font-size:1rem;line-height:1.5;opacity:0.95;min-height:54px}

/* Выборы */
.choices-container{display:flex;flex-direction:column;gap:0.75rem;margin-top:8px}
.choice-btn{background:linear-gradient(135deg,#4ecdc4,#45b7d1);padding:0.9rem;border-radius:12px;border:none;color:#042;cursor:pointer;font-weight:600;text-align:left;box-shadow:0 6px 18px rgba(72,196,173,0.08)}
.choice-btn.secondary{background:rgba(255,255,255,0.04);color:#fff}

/* Footer */
.game-footer{padding:0.75rem 1rem;background:rgba(0,0,0,0.18);border-top:1px solid rgba(255,255,255,0.03)}
.progress-container{text-align:center}
.progress-text{font-size:0.9rem;opacity:0.9;margin-bottom:0.4rem}
.progress-bar{height:6px;background:rgba(255,255,255,0.04);border-radius:6px;overflow:hidden}
.progress-fill{height:100%;width:0%;background:linear-gradient(90deg,#ff6b6b,#4ecdc4);transition:width .5s ease}

/* Пазлы */
.puzzle-content{display:flex;flex-direction:column;flex:1;padding:1rem}
.puzzle-header{text-align:center;margin-bottom:0.6rem}
.puzzle-body{flex:1;display:flex;align-items:center;justify-content:center;padding:0.8rem}
.puzzle-actions{display:grid;grid-template-columns:1fr 1fr;gap:0.6rem;padding-top:0.8rem}
.puzzle-button{padding:0.85rem;border-radius:12px;border:none;background:linear-gradient(135deg,#4ecdc4,#45b7d1);font-weight:700;cursor:pointer}
.puzzle-button.secondary{background:rgba(255,255,255,0.04)}

/* Victory */
#screen-victory{display:flex;align-items:center;justify-content:center;padding:2rem;background:linear-gradient(135deg,#07102a,#0e2546)}
.victory-content{max-width:420px;text-align:center}
.victory-animation{font-size:3.6rem;margin-bottom:1rem;animation:celebrate 2s ease-in-out infinite}
.victory-stats{display:grid;grid-template-columns:1fr 1fr;gap:0.8rem;padding:1rem;margin:1rem 0;background:rgba(255,255,255,0.02);border-radius:12px}

/* Menu */
.side-menu{position:fixed;top:0;right:-320px;width:320px;height:100%;background:linear-gradient(180deg,rgba(8,18,40,0.98),rgba(8,18,40,0.95));backdrop-filter:blur(8px);transition:right .28s ease;border-left:1px solid rgba(255,255,255,0.03);z-index:9999;padding:1rem}
.side-menu.active{right:0}
.menu-item{display:flex;align-items:center;gap:10px;padding:0.9rem;border-radius:10px;background:rgba(255,255,255,0.02);margin-bottom:0.5rem;cursor:pointer}

/* Misc */
.choice-btn:active,.menu-item:active,.puzzle-button:active{transform:scale(.98)}
.fade-in{animation:fadeIn .45s ease forwards}
@keyframes celebrate{0%,100%{transform:scale(1)}50%{transform:scale(1.08)}}
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}

/* Responsive */
@media (min-width:800px){.app{max-width:520px;margin:0 auto;border-left:1px solid rgba(255,255,255,0.03);border-right:1px solid rgba(255,255,255,0.03)}}
@media (max-width:420px){.character-image{width:92px;height:92px;font-size:2.1rem}.loading-bar{width:220px}}